# Generated by Django 4.2.17 on 2026-01-15 12:12

from decimal import Decimal
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    dependencies = [
        ("core", "0004_house_term_remove_newsandevents_summary_ru_and_more"),
        ("course", "0005_remove_course_credit_remove_course_semester_and_more"),
        (
            "accounts",
            "0003_student_house_user_is_class_teacher_user_is_teacher_and_more",
        ),
        ("result", "0002_alter_result_level_alter_takencourse_comment_and_more"),
    ]

    operations = [
        migrations.CreateModel(
            name="BECEMockExam",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "name",
                    models.CharField(
                        help_text="e.g. First Mock, Second Mock", max_length=100
                    ),
                ),
                ("date_started", models.DateField()),
                ("date_finished", models.DateField()),
                ("is_active", models.BooleanField(default=True)),
                (
                    "session",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE, to="core.session"
                    ),
                ),
            ],
            options={
                "verbose_name": "BECE Mock Exam",
                "verbose_name_plural": "BECE Mock Exams",
            },
        ),
        migrations.RemoveField(
            model_name="result",
            name="cgpa",
        ),
        migrations.RemoveField(
            model_name="result",
            name="gpa",
        ),
        migrations.RemoveField(
            model_name="result",
            name="semester",
        ),
        migrations.RemoveField(
            model_name="takencourse",
            name="assignment",
        ),
        migrations.RemoveField(
            model_name="takencourse",
            name="attendance",
        ),
        migrations.RemoveField(
            model_name="takencourse",
            name="final_exam",
        ),
        migrations.RemoveField(
            model_name="takencourse",
            name="mid_exam",
        ),
        migrations.RemoveField(
            model_name="takencourse",
            name="point",
        ),
        migrations.RemoveField(
            model_name="takencourse",
            name="quiz",
        ),
        migrations.AddField(
            model_name="result",
            name="class_teacher_comment",
            field=models.TextField(blank=True),
        ),
        migrations.AddField(
            model_name="result",
            name="days_absent",
            field=models.IntegerField(default=0),
        ),
        migrations.AddField(
            model_name="result",
            name="days_present",
            field=models.IntegerField(default=0),
        ),
        migrations.AddField(
            model_name="result",
            name="head_teacher_comment",
            field=models.TextField(blank=True),
        ),
        migrations.AddField(
            model_name="result",
            name="overall_position",
            field=models.IntegerField(
                blank=True, help_text="Student's position in class", null=True
            ),
        ),
        migrations.AddField(
            model_name="result",
            name="promoted",
            field=models.BooleanField(default=False),
        ),
        migrations.AddField(
            model_name="result",
            name="term",
            field=models.CharField(
                choices=[
                    ("First", "First Term"),
                    ("Second", "Second Term"),
                    ("Third", "Third Term"),
                ],
                default="First",
                max_length=100,
            ),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name="result",
            name="term_average",
            field=models.DecimalField(
                blank=True,
                decimal_places=2,
                help_text="Average score across all subjects",
                max_digits=5,
                null=True,
            ),
        ),
        migrations.AddField(
            model_name="result",
            name="total_attendance_days",
            field=models.IntegerField(default=0),
        ),
        migrations.AddField(
            model_name="takencourse",
            name="class_position",
            field=models.IntegerField(blank=True, editable=False, null=True),
        ),
        migrations.AddField(
            model_name="takencourse",
            name="class_score",
            field=models.DecimalField(
                decimal_places=2,
                default=Decimal("0.00"),
                help_text="Continuous Assessment: Max 40 marks (classwork, homework, projects)",
                max_digits=5,
            ),
        ),
        migrations.AddField(
            model_name="takencourse",
            name="exam_score",
            field=models.DecimalField(
                decimal_places=2,
                default=Decimal("0.00"),
                help_text="End of Term Examination: Max 60 marks",
                max_digits=5,
            ),
        ),
        migrations.AddField(
            model_name="takencourse",
            name="teacher_remark",
            field=models.TextField(blank=True),
        ),
        migrations.AlterField(
            model_name="result",
            name="level",
            field=models.CharField(
                choices=[
                    ("Primary 1", "Primary 1"),
                    ("Primary 2", "Primary 2"),
                    ("Primary 3", "Primary 3"),
                    ("Primary 4", "Primary 4"),
                    ("Primary 5", "Primary 5"),
                    ("Primary 6", "Primary 6"),
                    ("JHS 1", "JHS 1"),
                    ("JHS 2", "JHS 2"),
                    ("JHS 3", "JHS 3"),
                ],
                max_length=25,
                null=True,
            ),
        ),
        migrations.AlterField(
            model_name="takencourse",
            name="comment",
            field=models.CharField(
                blank=True,
                choices=[
                    ("Excellent", "Excellent"),
                    ("Very Good", "Very Good"),
                    ("Good", "Good"),
                    ("Credit", "Credit"),
                    ("Pass", "Pass"),
                    ("Fail", "Fail"),
                ],
                editable=False,
                max_length=20,
            ),
        ),
        migrations.AlterField(
            model_name="takencourse",
            name="grade",
            field=models.CharField(
                blank=True,
                choices=[
                    ("1", "1 - Highest (80-100)"),
                    ("2", "2 - Higher (75-79)"),
                    ("3", "3 - High (70-74)"),
                    ("4", "4 - High Average (65-69)"),
                    ("5", "5 - Average (60-64)"),
                    ("6", "6 - Low Average (55-59)"),
                    ("7", "7 - Lower (50-54)"),
                    ("8", "8 - Low (45-49)"),
                    ("9", "9 - Lowest (0-44)"),
                ],
                editable=False,
                max_length=2,
            ),
        ),
        migrations.CreateModel(
            name="BECEMockResult",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("score", models.DecimalField(decimal_places=2, max_digits=5)),
                (
                    "grade",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("1", "1 - Highest (80-100)"),
                            ("2", "2 - Higher (75-79)"),
                            ("3", "3 - High (70-74)"),
                            ("4", "4 - High Average (65-69)"),
                            ("5", "5 - Average (60-64)"),
                            ("6", "6 - Low Average (55-59)"),
                            ("7", "7 - Lower (50-54)"),
                            ("8", "8 - Low (45-49)"),
                            ("9", "9 - Lowest (0-44)"),
                        ],
                        max_length=2,
                    ),
                ),
                ("remarks", models.CharField(blank=True, max_length=200)),
                (
                    "course",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE, to="course.course"
                    ),
                ),
                (
                    "mock_exam",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="result.becemockexam",
                    ),
                ),
                (
                    "student",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="bece_mock_results",
                        to="accounts.student",
                    ),
                ),
            ],
            options={
                "verbose_name": "BECE Mock Result",
                "verbose_name_plural": "BECE Mock Results",
                "unique_together": {("student", "mock_exam", "course")},
            },
        ),
    ]
